<div class="my-2 position-text">
    <form (ngSubmit)="onSubmit(passwordForm)" #passwordForm="ngForm">
    
        <div class="row mb-3">
            <label for="current-password" class="col-sm-4 col-form-label">Current pasword</label>
            <div class="col-sm-8">
                <input type="password" class="form-control" id="current-password"
                    [(ngModel)]="requestPassword.oldPassword" name="oldPassword" #oldPassword="ngModel" required>
                    @if(oldPassword.invalid && (oldPassword.dirty || oldPassword.touched || passwordForm.submitted)){
                        @if(oldPassword.errors!['required']){
                            <div class="text-danger">
                                Password is required
                            </div>
                        }
                    }
                    @if(errors?.oldPassword){
                        <div class="text-danger text-start">{{errors.oldPassword}}</div>
                    }
                    @if(errors.error){
                        <div class="text-danger text-start">{{errors.error}}</div>
                    }
            </div>
        </div>
        
        <div class="row mb-3 ">
            <label for="new-password" class="col-sm-4 col-form-label">New password</label>
            <div class="col-sm-8">
                <input type="password" class="form-control" id="new-password"
                    [(ngModel)]="requestPassword.newPassword" name="newPassword" #newPassword="ngModel" required minlength="6">
                    @if(newPassword.invalid && (newPassword.dirty || newPassword.touched || passwordForm.submitted)){
                        @if(newPassword.errors!['required']){
                            <div class="text-danger">
                                Password is required
                            </div>
                        }
                    }
                    @if(newPasswordConfirm.invalid && (newPasswordConfirm.dirty || newPasswordConfirm.touched)){
                        @if(newPasswordConfirm.errors!['required']){
                            <div class="text-danger">
                                Password doesn't macth
                            </div>
                        }
                    }
                    @if(newPassword.errors?.['minlength']){
                        <div class="text-danger">
                            The password must be 6 characters long
                        </div>
                    }
                    @if(errors?.oldPassword){
                        <div class="text-danger text-start">{{errors.newPassword}}</div>
                    }
                    @if(!matches){
                        <div class="text-danger text-start">The new password doesn't match</div>
                    }
            </div>
        </div>
    
        <div class="row mb-3">
            <label for="new-password-confirmation" class="col-sm-4 col-form-label">Confirm new password</label>
            <div class="col-sm-8">
                <input type="password" class="form-control" id="new-password-confirmation"
                    [(ngModel)]="this.newPasswordConfirm" name="newPasswordConfirm" #newPasswordConfirm="ngModel" required>
                    @if(passwordConfirmEmpty){
                        <div class="text-danger text-start">Must not be empty</div>
                    }
            </div>
        </div>

        <div class="my-2 mx-auto">
            <div class="mt-4 mb-3 text-center">
                <input type="submit" value="Change password" class="btn btn-outline-danger">
            </div>
        </div>
    
    </form>
</div>
